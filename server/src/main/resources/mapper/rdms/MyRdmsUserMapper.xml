<?xml version="1.0" encoding="UTF-8" ?>
<!--
Author：周朔鹏
编制时间：2025-08-05
电子邮件：391902958@qq.com
项目官网：https://www.euipd.com
-->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.course.server.mapper.rdms.MyRdmsUserMapper" >
    <resultMap id="BaseResultMap" type="com.course.server.domain.RdmsUser">
        <id column="id" jdbcType="CHAR" property="id" />
        <result column="login_name" jdbcType="VARCHAR" property="loginName" />
        <result column="password" jdbcType="VARCHAR" property="password" />
        <result column="true_name" jdbcType="VARCHAR" property="trueName" />
        <result column="company_name" jdbcType="VARCHAR" property="companyName" />
        <result column="base_address" jdbcType="VARCHAR" property="baseAddress" />
        <result column="receive_address" jdbcType="VARCHAR" property="receiveAddress" />
        <result column="subject" jdbcType="VARCHAR" property="subject" />
        <result column="email" jdbcType="VARCHAR" property="email" />
        <result column="birthday" jdbcType="TIMESTAMP" property="birthday" />
        <result column="education_background" jdbcType="VARCHAR" property="educationBackground" />
        <result column="degree" jdbcType="VARCHAR" property="degree" />
        <result column="description" jdbcType="VARCHAR" property="description" />
        <result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
        <result column="deleted" jdbcType="VARCHAR" property="deleted" />
        <result column="profile" jdbcType="VARCHAR" property="profile" />
    </resultMap>

    <select id="findUsersFromLoginName" parameterType="java.lang.String" resultMap="BaseResultMap">
        select *
        from rdms_user
        where login_name like concat('%', #{keyWord}, '%')
        order by create_time desc
    </select>

    <select id="findUsersFromTrueName" parameterType="java.lang.String" resultMap="BaseResultMap">
        select *
        from rdms_user
        where true_name like concat('%', #{keyWord}, '%')
        order by create_time desc
    </select>

    <select id="findUsers" parameterType="java.lang.String" resultMap="BaseResultMap">
        select *
        from rdms_user
        where rdms_user.login_name like concat('%', #{keyWord}, '%')
        or true_name like concat('%', #{keyWord}, '%')
        or company_name like concat('%', #{keyWord}, '%')
        or base_address like concat('%', #{keyWord}, '%')
        or receive_address like concat('%', #{keyWord}, '%')
        or subject like concat('%', #{keyWord}, '%')
        or email like concat('%', #{keyWord}, '%')
        or education_background like concat('%', #{keyWord}, '%')
        or degree like concat('%', #{keyWord}, '%')
        or description like concat('%', #{keyWord}, '%')
        order by create_time desc
    </select>



</mapper>
